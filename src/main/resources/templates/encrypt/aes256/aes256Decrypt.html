<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<body>
<div id="header-load" th:replace="html/head.html :: headFragment"></div>
<div id="nav-load" th:insert="html/nav.html :: navFragment"></div>

<div class="container-md">
<!-----------------------------------------------------------------------------------------  -->

<script>
function myFunction() {
  // Get the text field
  var copyText = document.getElementById("myInput");

  // Select the text field
  /* copyText.select();
  copyText.setSelectionRange(0, 99999); // For mobile devices */

  // Copy the text inside the text field
  navigator.clipboard.writeText(copyText.value);
  
  // Alert the copied text
  alert("Copied the text: " + copyText.value);
}
</script>
<!-- clipboard.min.js 영역 -->
	<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.2/dist/sweetalert2.all.min.js"></script>
	<script type="text/javascript">
		var clipboard = new ClipboardJS('.clipboardMinBtn');

		clipboard.on('success', function(e) {
			console.info('Action:', e.action);
			console.info('Text:', e.text);
			console.info('Trigger:', e.trigger);
			if(e.text === ""){
				Swal.fire({
					icon:'error'
					,text:'빈 문자열 입니다!'
					,confirmButtonColor :'#d33'
				})
			}else{
				Swal.fire({
					icon: 'success'
					,text:'복사 완료!'
					,confirmButtonColor :'#0d1b2a'
				})
			}
			e.clearSelection();
		});

		clipboard.on('error', function(e) {
			console.error('Action:', e.action);
			console.error('Trigger:', e.trigger);
			Swal.fire({
				title:'error'
				,text:'오류가 발생했습니다!'
				,confirmButtonColor :'#d33'
			})
		});
	</script>
<!-- ------------------------- -->
	<div id="navFooter-load" th:insert="html/navfooter.html :: navFooterFragment"></div>
	<div class="container">
	<ul class="nav justify-content-center">
	  <li class="nav-item">
	    <a class="nav-link active" aria-current="page" href="/plus/encrypt/main"><button type="button" class="btn btn-outline-primary btn-sm">암호화 메인</button></a>
	  </li>
	  <li class="nav-item">
	    <a class="nav-link" href="/plus/encrypt/aes256/encrypt/main"><button type="button" class="btn btn-outline-secondary btn-sm">AES 암호화</button></a>
	  </li>
	</ul>
	</div>

	<section class="contact">
		<div class="container" data-aos="fade-up">
			<div class="section-title">
				<h2>AES 복호화</h2>
				<p>AES Key 와 Iv 값 기준으로 암호화된 데이터를 복호화 합니다.</p>
			</div>
			<div class="col-lg-12 mt-5 mt-lg-0 d-flex align-items-stretch">
				<form action="/plus/encrypt/aes256/decrypt" method="post" role="form" class="php-email-form" onsubmit="return DataCheck();">

					<div class="text-center"><h4>복호화 내용</h4></div>
					<div id="decryptContentDiv" class="border rounded text-center my-2 p-4 overflow-scroll">
						<h6 id="decryptContentH6" th:if="${not #strings.isEmpty(decryptContent)}"
							th:text="${decryptContent}"><b>필요한 데이터를 우선 입력해 주세요.</b></h6>
					</div>
					<div id="encryptContentDivHelp" class="form-text text-center">입력값에 따른 복호화된 데이터를 확인할 수 있습니다. <button class="clipboardMinBtn btn btn-secondary btn-sm" type="button" data-clipboard-action="copy" data-clipboard-target="#decryptContentH6">복사</button></div>
					<br>
					<div class="row">
						<div class="form-group col-md-6">
							<label for="aes256Key">Aes256-Key</label>
							<input type="text" placeholder="ex) 32자리의 숫자" name="aes256Key" class="form-control" id="aes256Key" th:value="${aes256Key}" required>
							<div id="aes256KeyHelp" class="form-text">Aes256에서의 Key는 32Byte입니다.</div>
						</div>
						<div class="form-group col-md-6">
							<label for="aes256Iv">Aes256-Iv</label>
							<input type="text" placeholder="ex) 16자리의 숫자" name="aes256Iv" class="form-control" id="aes256Iv" th:value="${aes256Iv}" required>
							<div id="aes256IvHelp" class="form-text">Aes256에서의 Iv는 16Byte입니다.</div>
						</div>

						<div class="form-group col-md-12">
							<label for="aes256Content">데이터</label>
							<input type="text" placeholder="ex) test" name="aes256Content" class="form-control" id="aes256Content" th:value="${aes256Content}" required>
							<div id="aes256ContentHelp" class="form-text">복호화를 원하는 정보를 기입하는 영역입니다.</div>
						</div>
					</div>
					<div class="text-center"><button type="submit">확인</button></div>
				</form>
			</div>
		</div>
	</section><!-- End Contact Section -->
<!-----------------------------------------------------------------------------------------  -->
</div>
<div id="footer-load" th:insert="html/footer.html :: footerFragment"></div>
</body>
</html>