<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<body>
<div id="header-load" th:replace="html/head.html :: headFragment"></div>
<div id="nav-load" th:insert="html/nav.html :: navFragment"></div>

<div class="container-md">
    <!-----------------------------------------------------------------------------------------  -->
    <section id="about" class="about">
        <div class="container">
            <script th:inline="javascript">
                /*<![CDATA[*/
                function noticeDataCheck() {
                    const regexTitle = "^" + [[${regexAllPermit}]] + "{2,50}$$";
                    const title = new RegExp(`${regexTitle}`)
                    if (!title.test($("#noticeTitle").val())) {
                        $("#titleCheckSpan").text("제목은 2 ~ 50 글자를 맞추어야 합니다.").addClass("red")
                        $("#noticeTitle").focus()
                        return false;
                    } else {
                        $("#titleCheckSpan").text("").removeClass("red")
                    }

                    const regexContent = "^" + [[${regexAllPermit}]] + "{2,500}$$";
                    const content = new RegExp(`${regexContent}`);
                    if (!content.test($("#noticeContent").val())) {
                        $("#contentCheckSpan").text("내용은 2 ~ 500 글자를 맞추어야 합니다.").addClass("red")
                        $("#noticeContent").focus()
                        return false;
                    } else {
                        $("#contentCheckSpan").text("").removeClass("red")
                    }
                }

                /*]]>*/

            </script>


            <form action="/plus/notice/update/action" method="post" onsubmit="return noticeDataCheck()">
                <!--/*@thymesVar id="noticeNo" type="Integer"*/-->
                <input type="hidden" name="noticeNo" th:value="${noticeNo}">
                <div class="mb-3">
                    <label for="noticeTitle" class="form-label">제목</label>
                    <!--/*@thymesVar id="noticeTitle" type="java.lang.String"*/-->
                    <input type="text" class="form-control" id="noticeTitle" name="noticeTitle"
                           th:value="${noticeTitle}">
                    <span id="titleCheckSpan"></span>
                </div>
                <div class="mb-3" style="width: 10%">
                    <select name="category" class="form-select form-select-sm" aria-label="Default select example">
                        <!--/*@thymesVar id="category" type="java.lang.String"*/-->
                        <option th:selected="${category} == 'notice'" value="notice">공지사항</option>
                        <option th:selected="${category} == 'updateNote'" value="updateNote">업데이트</option>
                        <option th:selected="${category} == 'etc'" value="etc">ETC</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="noticeContent" class="form-label">내용</label>
                    <textarea class="form-control" id="noticeContent" name="noticeContent" rows="20"
                              th:text="${noticeContent}"></textarea>
                    <span id="contentCheckSpan"></span>
                </div>
                <br>
                <button type="submit" class="btn btn-primary">수정</button>
            </form>

        </div>
    </section><!-- End About Us Section -->
    <!-----------------------------------------------------------------------------------------  -->
</div>
<div id="footer-load" th:insert="html/footer.html :: footerFragment"></div>
</body>
</html>